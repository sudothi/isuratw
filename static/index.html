<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>isuratw</title>
    <meta name="description" content="isuratw Twitch Viewer Bot">
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon" href="/static/favicon.ico">
</head>

<body>
    <div class="app">
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <img src="/static/icon.png" alt="Logo" style="width: 32px; height: 32px; border-radius: 6px;">
                    <div>
                        <div class="logo-text">isuratw</div>
                        <div class="logo-sub">Viewer Bot</div>
                    </div>
                </div>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-item active" data-view="dashboard">
                    <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <rect x="3" y="3" width="7" height="7"></rect>
                        <rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect>
                        <rect x="3" y="14" width="7" height="7"></rect>
                    </svg>
                    <span>Dashboard</span>
                </div>
                <div class="nav-item" data-view="proxies">
                    <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="2" y1="12" x2="22" y2="12"></line>
                        <path
                            d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z">
                        </path>
                    </svg>
                    <span>Proxies</span>
                </div>
                <div class="nav-item" data-view="settings">
                    <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <line x1="4" y1="21" x2="4" y2="14"></line>
                        <line x1="4" y1="10" x2="4" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="12"></line>
                        <line x1="12" y1="8" x2="12" y2="3"></line>
                        <line x1="20" y1="21" x2="20" y2="16"></line>
                        <line x1="20" y1="12" x2="20" y2="3"></line>
                        <line x1="1" y1="14" x2="7" y2="14"></line>
                        <line x1="9" y1="8" x2="15" y2="8"></line>
                        <line x1="17" y1="16" x2="23" y2="16"></line>
                    </svg>
                    <span>Settings</span>
                </div>
                <div class="nav-item" data-view="guide">
                    <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                    </svg>
                    <span>Guide</span>
                </div>
            </nav>

            <div class="sidebar-footer">
                <div class="status-badge">
                    <span class="status-dot" id="sidebar-dot"></span>
                    <span id="sidebar-status">Bot Idle</span>
                </div>
            </div>
        </aside>

        <main class="main">
            <div class="content">

                <div class="view active" id="view-dashboard">
                    <h1 class="view-title">Dashboard</h1>

                    <div class="card">
                        <div class="channel-row">
                            <div class="channel-input-wrapper">
                                <span class="channel-prefix">twitch.tv/</span>
                                <input type="text" class="channel-input" id="channel-input" placeholder="channel name"
                                    spellcheck="false" autocomplete="off">
                            </div>
                            <button class="btn-start" id="btn-start">START</button>
                        </div>
                    </div>

                    <div class="card">
                        <div class="status-row">
                            <span class="status-dot" id="status-dot"></span>
                            <span class="status-label" id="status-label">IDLE</span>
                            <div class="uptime">
                                <svg class="uptime-icon" xmlns="http://www.w3.org/2000/svg" width="14" height="14"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polyline points="12 6 12 12 16 14"></polyline>
                                </svg>
                                <span id="uptime">00:00:00</span>
                            </div>
                        </div>
                    </div>

                    <div class="stats-grid">
                        <div class="card stat-box">
                            <div class="stat-header">
                                <svg class="stat-icon" xmlns="http://www.w3.org/2000/svg" width="14" height="14"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                    <circle cx="12" cy="12" r="3"></circle>
                                </svg>
                                <span class="stat-label">Active Viewers</span>
                            </div>
                            <span class="stat-value purple" id="stat-viewers">0</span>
                        </div>
                        <div class="card stat-box">
                            <div class="stat-header">
                                <svg class="stat-icon" xmlns="http://www.w3.org/2000/svg" width="14" height="14"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M5 12.55a11 11 0 0 1 14.08 0"></path>
                                    <path d="M1.42 9a16 16 0 0 1 21.16 0"></path>
                                    <path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path>
                                    <line x1="12" y1="20" x2="12.01" y2="20"></line>
                                </svg>
                                <span class="stat-label">Total Proxies</span>
                            </div>
                            <span class="stat-value white" id="stat-proxies">0</span>
                        </div>
                        <div class="card stat-box">
                            <div class="stat-header">
                                <svg class="stat-icon" xmlns="http://www.w3.org/2000/svg" width="14" height="14"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                                </svg>
                                <span class="stat-label">Max Concurrent</span>
                            </div>
                            <span class="stat-value green" id="stat-max">0</span>
                        </div>
                    </div>

                    <div class="card log-card">
                        <div class="log-header">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <line x1="8" y1="6" x2="21" y2="6"></line>
                                <line x1="8" y1="12" x2="21" y2="12"></line>
                                <line x1="8" y1="18" x2="21" y2="18"></line>
                                <line x1="3" y1="6" x2="3.01" y2="6"></line>
                                <line x1="3" y1="12" x2="3.01" y2="12"></line>
                                <line x1="3" y1="18" x2="3.01" y2="18"></line>
                            </svg>
                            <span class="log-title">Activity Log</span>
                        </div>
                        <div class="log-list" id="log-list"></div>
                    </div>
                </div>

                <div class="view" id="view-proxies">
                    <div class="proxy-header-row">
                        <h1 class="view-title">Proxy Monitor</h1>
                        <span class="proxy-count" id="proxy-count">0 proxies</span>
                    </div>
                    <p class="view-subtitle">Real-time status of each proxy connection</p>

                    <div class="card proxy-table">
                        <div class="proxy-table-header">
                            <span class="proxy-col-header proxy-col-addr">Proxy</span>
                            <span class="proxy-col-header proxy-col-status">Status</span>
                            <span class="proxy-col-header proxy-col-latency">Latency</span>
                        </div>
                        <hr style="border: none; border-top: 1px solid var(--divider); margin: 0 0 8px;">
                        <div class="proxy-list" id="proxy-list"></div>
                    </div>
                </div>

                <div class="view" id="view-settings">
                    <h1 class="view-title">Settings</h1>
                    <p class="view-subtitle">Configure bot parameters</p>

                    <div class="card">
                        <div class="settings-group">
                            <div class="setting-field">
                                <label class="setting-label">Max Concurrent Connections</label>
                                <input type="number" class="setting-input" id="settings-max" value="5" min="1" max="50">
                            </div>

                            <div class="setting-field">
                                <label class="setting-label">Proxy List</label>
                                <textarea class="setting-textarea" id="settings-proxies"
                                    placeholder="host:port:user:pass (one per line)"></textarea>
                            </div>

                            <button class="btn-save" id="btn-save">Save Settings</button>
                        </div>
                    </div>
                </div>

                <div class="view" id="view-guide">
                    <h1 class="view-title">Guide</h1>
                    <p class="view-subtitle">How to setup and use isuratw</p>

                    <div class="card">
                        <h2 class="guide-h2">Proxy Requirements</h2>
                        <ul class="guide-list">
                            <li><span class="hl">Residential Proxies</span> are highly recommended. Datacenter IPs are
                                often flagged by Twitch and views may not count.</li>
                            <li>Format: <code class="hl-code">host:port:user:pass</code> (one per line)</li>
                            <li>Use <span class="hl">Sticky Sessions</span> (same IP per session) to avoid frequent
                                disconnections.</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h2 class="guide-h2">Performance & Usage</h2>
                        <ul class="guide-list">
                            <li>Each viewer is a full headless Chrome instance.</li>
                            <li><span class="hl">CPU/RAM:</span> Expect ~300-500MB RAM per viewer. 10 viewers ≈ 4-5GB
                                RAM.</li>
                            <li>Playback is <span class="hl">muted</span> and set to <span class="hl">160p</span> to
                                save bandwidth, but resource usage is still significant.</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h2 class="guide-h2">Quick Start</h2>
                        <ol class="guide-list ordered">
                            <li>Go to <b>Settings</b> and paste your proxy list.</li>
                            <li>Set <b>Max Concurrent</b> (start low, e.g., 5).</li>
                            <li>Go to <b>Dashboard</b>, type the channel name (e.g., <code
                                    class="hl-code">shroud</code>), and click <b>Start</b>.</li>
                            <li>Wait 3-5 minutes for Twitch to update the viewer count.</li>
                        </ol>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div class="save-toast" id="save-toast">✓ Settings saved!</div>

    <script src="/static/app.js"></script>
</body>

</html>